## 예상 질문에 대한 답변 정리

### Spring Batch란

    다량의 정보를 사용자와의 상호작용 없이 자동으로, 효율적으로 처리하는 Framework

스프링 배치는 포괄적인 경량 배치 프레임워크로, 엔터프라이즈 시스템 운영에 일상적으로 꼭 필요한 견고한 배치 어플리케이션 개발을 위해 설계되었다.

스프링 배치는 사람들이 기대하는 Spring Framework의 특성(생산성, POJO 기반 접근, 사용 편의성)을 기반으로 만들어져, 개발자가 다루기 편하며 필요하다면 고급 기술 또한 쉽게 활용할 수 있다.

스프링 배치는 스케줄러를 대체하는 개념이 아니라, 스케줄러와 함께 동작하도록 설계되었다.

> Quartz, Cron과 함께 사용한다.

### Spring Batch를 사용한 이유

스프링 배치는 로깅/추적, 트랜잭션 관리, job 프로세싱 통계, job 재시작, 스킵, 리소스 관리 같은 대용량 데이터 처리에 필수적인 기능을 재사용할 수 있는 형태로 제공한다.

스프링 배치는 단순한 유스케이스(데이터베이스로 파일을 읽거나 저장 프로시저(stored procedure)를 실행하는 일)와 복잡한 대용량 처리(데이터베이스 간 대용량 데이터를 이동시키고 변형하는 일 등)를 모두 지원한다.

프레임워크를 활용하면 배치 작업을 손쉽게 확장할 수 있으므로 많은 양의 데이터도 처리할 수 있다.

스프링 배치는 유사한 트랜잭션을 하나로 묶어 처리해줌으로써 (특히 사용자 인터랙션 없는 오프라인 환경) 반복적인 작업을 자동화한다.

IT 프로젝트라면 대부분 배치 처리를 사용하는데, 스프링 배치는 강력한 엔터프라이즈 스케일 솔루션을 제공하는 유일한 오픈 소스 프레임워크이다.

### 문자열(String)

문자열 객체는 재사용 될 가능성이 높기에 같은 값일 경우 어플리케이션 당 하나의 String 객체만을 생성해두어 JVM의 힙(heap)을 절약하고자 했다.

#### 1. String 객체의 캐싱기능
String이 불변객체로 설계된 이유는 메모리 절약을 위한 캐싱 기능을 위해서이다.

만약 String의 불변성이 없었다면 이 코드는 "Hello World"라는 값을 갖는 500개의 String 객체를 생성하게 된다.

그러나 불변성의 성질을 갖는 덕분에 실제로는 "Hello World"라는 문자열 객체는 단 하나만 생성이 된다.

Java에서 이 String 객체들은 Heap의 String Pool 이라는 특별한 공간이 있어 이곳에 저장된다.

##### intern 메서드

참조하려는 문자열이 String Pool에 존재하는 경우 새로 생성하지 않고 원래 있던 객체의 주소값 반환. 없다면 새로 집어넣고 그 주소값을 반환한다.

따라서 객체를 새로 생성하는 오버헤드가 발생하지 않기때문에 특정 문자열값을 재사용하는 빈도가 높을수록 상당한 성능 향상을 기대할 수 있다.

> 그러나 +연산을 많이하면 gabage가 엄청 많이 생긴다!

#### 2. 보안기능

String은 불변성을 가졌기 때문에 중요한 데이터를 문자열로 다루는 경우 강제로 해당 참조에 대한 문자열 값을 바꾸는것이 불가능하다. 따라서 보안에 유리하다.

#### 3. 스레드 안전성

String 객체가 변경될 수 없다는것은 여러 스레드에서 동시에 특정 String객체를 참조한다고 하더라도 안전하다는 의미이다.

만약 어플리케이션 여러곳에서 특정 문자열값을 참조하고 있을때 그 값 자체는 절대 변하지 않으므로(그 누구도 수정할 수 없으므로) 안전하다고 할 수 있다.

물론 String str = "Hello World" 와 같은 상황에서 str에 새로운 문자열 값을 할당할수는 있겠지만 내부적으로는 String 객체의 값을 변경한 것이 아니다.

즉 힙공간에 존재하는 "Hello World" 자체는 변하지 않고 그대로 살아 있는 것이다.

#### 4. String의 단점

문자열 추가, 수정, 삭제 등의 연산이 빈번하게 발생하는 경우 String을 사용하면 Heap에 매우 많은 gabage가 생성되어 heap memory가 부족해지고, 어플리케이션의 성능에 치명적인 영향을 끼친다.

이를 해결하기 위한 클래스가 가변성(mutable)을 가지는 StringBuffer와 StringBuilder

### StringBuffer와 StringBuilder

#### 차이점

    동기화의 유무

    StringBuffer : 동기화 지원. Multi thread 환경에서 안전하다(thread-safe)

    StringBuilder : 동기화 지원 X. Multi thread 환경에서 사용하기 적합하지 않다. 그러나 단일thread에서의 성능은 StringBuffer보다 뛰어나다.

성능만 놓고 본다면 연산이 많은 경우,StringBuilder > StringBuffer >>> String 순서

동기화는 StringBuffer의 성능을 떨어뜨리기 때문에 여기서 동기화만 뺀 StringBuilder 클래스가 만들어진 것.

#### 정리

String : 문자열 연산이 적고, 멀티쓰레드 환경

StringBuffer : 문자열 연산이 많고, 멀티쓰레드 환경

StringBuilder : 문자열 연산이 많고, 단일쓰레드거나 동기화를 고려하지 않아도 되는 경우